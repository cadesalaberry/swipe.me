(function(t){function e(e){for(var a,c,i=e[0],s=e[1],d=e[2],u=0,p=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},o=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"23a8":function(t,e,n){"use strict";var a=n("7424"),r=n.n(a);r.a},"29a2":function(t,e,n){},4026:function(t,e,n){},4870:function(t,e,n){"use strict";var a=n("4026"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("caad"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("8c4f"),o=n("bc3a"),c=n.n(o),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view",{attrs:{id:"app"}})},s=[],d={name:"App"},l=d,u=(n("034f"),n("2877")),p=Object(u["a"])(l,i,s,!1,null,null,null),f=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deck"},[t.error?n("div",{staticClass:"vueswing"},[n("div",{staticClass:"card"},[n("card",{attrs:{title:"Oops...",imageURL:t.oopsImageUrl,description:"I looked everywhere, but eh, I have nothing to show you!"}})],1)]):t._e(),t.loading?n("loader"):n("vue-swing",{ref:"vueswing",staticClass:"vueswing",attrs:{config:t.config},on:{throwout:t.onThrowout}},t._l(t.cards,(function(t,e){return n("div",{key:t.title,staticClass:"card"},[n("card",{key:t.title,attrs:{index:e,title:t.title,imageURL:t.picture_path,description:t.description}})],1)})),0),n("div",{staticClass:"bottom-bar"},[n("transition",{attrs:{name:"slide-fade"}},[t.hiddenCards.length?n("div",{staticClass:"back-button",on:{click:t.undo}}):t._e()])],1)],1)},m=[],v=(n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card__container"},[n("img",{staticClass:"card__image",attrs:{src:t.patchURL(t.imageURL)}}),n("h1",{staticClass:"card__title"},[t._v(t._s(t.title))]),n("div",{staticClass:"card__description",domProps:{innerHTML:t._s(t.description)}})])}),g=[],b=(n("2ca0"),{name:"Card",props:{title:String,imageURL:String,description:String},methods:{patchURL:function(t){return t.startsWith("./assets/images/")?"//cadesalaberry.github.io/lucky-you/"+t:t}}}),_=b,k=(n("23a8"),Object(u["a"])(_,v,g,!1,null,"03bb3326",null)),w=k.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner"})},y=[],O={name:"Loader"},S=O,x=(n("4870"),Object(u["a"])(S,C,y,!1,null,"eca9c34a",null)),E=x.exports,j=n("634d"),L=n("dd46"),$=n.n(L),P={name:"Deck",props:{subtitle:String},components:{VueSwing:j["a"],Loader:E,Card:w},data:function(){return{config:{allowedDirections:[j["a"].Direction.LEFT,j["a"].Direction.RIGHT],rotation:function(t,e,n,a){return Math.min(t/20,a)},throwOutConfidence:function(t,e,n){var a=Math.min(1.7*Math.abs(t)/n.offsetWidth,1),r=Math.min(1.7*Math.abs(e)/n.offsetHeight,1);return Math.max(a,r)}},oopsImageUrl:$.a,loading:!0,error:!1,cards:[],hiddenCards:[]}},mounted:function(){var t=this,e=this.$route.params.deckId;console.log("Loading deck #"+e),this.$http.get("decks/".concat(e)).then(this.replaceCards).catch((function(e){throw t.error=!0,e})).finally((function(){t.loading=!1}))},methods:{replaceCards:function(t){this.cards=t.data.cards},add:function(){console.log("add",this.$refs)},undo:function(){var t=this.hiddenCards.pop();t&&this.cards.push(t)},onThrowout:function(t){var e=t.target;t.throwDirection;console.log("Threw out ".concat(e.textContent,"!"));var n=this.cards.pop();n&&this.hiddenCards.push(n)}}},U=P,A=(n("93f0"),Object(u["a"])(U,h,m,!1,null,"180c4e7c",null)),N=A.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editable-deck"},[t._l(t.deck.cards,(function(t,e){return n("div",{key:e,staticClass:"card"},[n("editable-card",{key:e,attrs:{card:t}})],1)})),n("button",{on:{click:function(e){return t.addEmptyCard(t.deck)}}},[t._v("Add card")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.deck.deckHandle,expression:"deck.deckHandle"}],attrs:{placeholder:"Name of the deck"},domProps:{value:t.deck.deckHandle},on:{input:function(e){e.target.composing||t.$set(t.deck,"deckHandle",e.target.value)}}}),n("button",{on:{click:function(e){return t.save(t.deck)}}},[t._v("Save")])],2)},I=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card__container"},[n("img",{staticClass:"card__image",attrs:{src:t.card.picture_path}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.card.picture_path,expression:"card.picture_path"}],attrs:{placeholder:"image URL"},domProps:{value:t.card.picture_path},on:{input:function(e){e.target.composing||t.$set(t.card,"picture_path",e.target.value)}}}),n("h1",{staticClass:"card__title"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.card.title,expression:"card.title"}],attrs:{placeholder:"Title"},domProps:{value:t.card.title},on:{input:function(e){e.target.composing||t.$set(t.card,"title",e.target.value)}}})]),n("div",{staticClass:"card__description"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.description,expression:"card.description"}],attrs:{placeholder:"Some short description"},domProps:{value:t.card.description},on:{input:function(e){e.target.composing||t.$set(t.card,"description",e.target.value)}}})])])},T=[],H={name:"EditableCard",props:{card:{title:String,picture_path:String,description:String}},methods:{}},D=H,B=(n("a5d3"),Object(u["a"])(D,M,T,!1,null,"3aba8b22",null)),J=B.exports,q={name:"EditableDeck",props:{subtitle:String},components:{EditableCard:J},data:function(){return{deck:{deckHandle:"",cards:[]}}},mounted:function(){this.deck=JSON.parse(localStorage.getItem("decks/new"))||{cards:[]},this.deck.cards.length||this.deck.cards.push({title:"",picture_path:"https://images.unsplash.com/photo-1578666859768-10f9910a2045?auto=format&fit=crop&w=350&h=280&q=80",description:""}),console.log("Loading deck from localStorage",this.deck)},methods:{save:function(t){var e=JSON.stringify(t);console.log("Saving deck",e),localStorage.setItem("decks/new",e)},addEmptyCard:function(){if(this.deck.cards.length>=9)return alert("You cannot add more than 9 cards");this.deck.cards.push({title:"",picture_path:"https://images.unsplash.com/photo-1578666859768-10f9910a2045?auto=format&fit=crop&w=350&h=280&q=80",description:""}),console.log("Adding empty card")}}},F=q,V=(n("931b"),Object(u["a"])(F,R,I,!1,null,"1d78321f",null)),W=V.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"center-title"},[a("div",[t._v("Mmmmm you probably want to checkout")]),a("router-link",{staticClass:"cta",attrs:{to:"/decks/banana"}},[t._v("this deck")])],1),a("router-link",{staticClass:"btn-add",attrs:{to:"/decks/new"}},[a("img",{staticClass:"icon--plus",attrs:{src:n("e359")}})])],1)},G=[],Y={name:"Home"},K=Y,Q=(n("8b71"),Object(u["a"])(K,z,G,!1,null,null,null)),X=Q.exports,Z=n("9483");Object(Z["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var tt="https://ossn0ul273.execute-api.us-east-1.amazonaws.com/dev";if(["localhost","127.0.0.1",""].includes(window.location.hostname)&&(tt="http://localhost:3000"),Object({NODE_ENV:"production",BASE_URL:""}).API_BASE_URL&&(tt=Object({NODE_ENV:"production",BASE_URL:""}).API_BASE_URL),!tt)throw new Error("No API_BASE_URL given");a["a"].config.productionTip=!1,a["a"].prototype.$http=c.a.create({baseURL:tt});var et=[{path:"/",component:f,children:[{path:"",component:X},{path:"/decks",component:X},{path:"/decks/new",component:W},{path:"/decks/:deckId",component:N}]}],nt=new r["a"]({routes:et});a["a"].use(r["a"]),new a["a"]({render:function(t){return t(f)},router:nt}).$mount("#app")},7424:function(t,e,n){},"85ec":function(t,e,n){},"88d7":function(t,e,n){},"8b71":function(t,e,n){"use strict";var a=n("88d7"),r=n.n(a);r.a},"931b":function(t,e,n){"use strict";var a=n("cd6e"),r=n.n(a);r.a},"93f0":function(t,e,n){"use strict";var a=n("29a2"),r=n.n(a);r.a},a5d3:function(t,e,n){"use strict";var a=n("c5d3"),r=n.n(a);r.a},c5d3:function(t,e,n){},cd6e:function(t,e,n){},dd46:function(t,e,n){t.exports=n.p+"img/oops.009c2390.png"},e359:function(t,e,n){t.exports=n.p+"img/plus.5571d418.png"}});
//# sourceMappingURL=app.c40ac7ae.js.map